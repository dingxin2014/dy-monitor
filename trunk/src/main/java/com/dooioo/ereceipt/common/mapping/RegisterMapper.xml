<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dooioo.ereceipt.common.dao.RegisterMapper">

	<select id="queryRegisterList" parameterType="java.util.Map" resultType="com.dooioo.ereceipt.common.model.AccessSetting">
		SELECT * from T_ERECEIPT_ACCESS_SETTING (NOLOCK)
		<where>
             deleteFlag=0
		</where>
	</select>

	<insert id="insertRegister">
		INSERT INTO T_ERECEIPT_ACCESS_SETTING(ipAddress,appCode,appName,remark,deleteFlag,status,creator,createTime)
		values(#{ipAddress},#{appCode},#{appName},#{remark},0,#{status},#{creator},GETDATE())
	</insert>

	<update id="updateRegister">
		UPDATE T_ERECEIPT_ACCESS_SETTING SET ipAddress=#{ipAddress},appCode=#{appCode},appName=#{appName},remark=#{remark},status=#{status},updator=#{updator},updateTime=getDate() WHERE id=#{id}
	</update>
	
	<select id="getAccessSettingByAppCode" parameterType="java.lang.String" resultType="com.dooioo.ereceipt.common.model.AccessSetting">
		SELECT * 
		FROM T_ERECEIPT_ACCESS_SETTING (NOLOCK)
		<where>
			deleteFlag = 0
			AND appCode = #{appCode, jdbcType=VARCHAR}
		</where>
	</select>
</mapper>

